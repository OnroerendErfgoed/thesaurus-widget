<template>
  <ul show.bind="current.visible" style="list-style-type: none;">
    <li>
      <div>
        <span if.bind="current.hasChildren()" click.trigger="current.toggleNode()" class="${current.icon}"></span>
        <span click.delegate="updateValue({x: current.label})">${current.label}</span>
      </div>

      <tree-node update-value.call="updateValue(x)" repeat.for="node of current.children" current.bind="node"></tree-node>
    </li>
  </ul>
</template>