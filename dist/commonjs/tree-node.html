<template>
  <div show.bind="current.visible">
    <span if.bind="current.hasChildren()" click.trigger="current.toggleNode()" class="fa ${current.expanded ? 'fa-minus-square' : 'fa-plus-square'}"></span>
    <div class="option" click.delegate="parent.updateValue(current.id)">
      <span if.bind="!current.hasChildren()" class="fa fa-file-text-o"></span>
      <span if.bind="current.hasChildren()" class="fa ${current.expanded ? 'fa-folder-open-o' : 'fa-folder-o'}"></span>
      ${current.label}
    </div>

    <ul show.bind="current.expanded">
      <li repeat.for="node of current.children">
        <tree-node parent.bind="parent" current.bind="node"></tree-node>
      </li>
    </ul>
  </div>
</template>